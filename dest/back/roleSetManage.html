<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <title>En-Galaxy後台</title>
  <!-- Icons-->
  <link href="node/@coreui/icons/css/coreui-icons.min.css" rel="stylesheet">
  <link href="node/flag-icon-css/css/flag-icon.min.css" rel="stylesheet">
  <link href="node/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="node/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">
  <!-- Main styles for this application-->
  <link href="css/style.css" rel="stylesheet">
</head>

<body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">
 <!-- top_header -->
 <header class="app-header navbar">
    <button class="navbar-toggler sidebar-toggler d-lg-none mr-auto" type="button" data-toggle="sidebar-show">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="#">
      <img class="navbar-brand-full" src="img/brand/logo.svg" width="89" height="100" alt="En-Galaxy Logo">
      <!-- <img class="navbar-brand-minimized" src="img/brand/sygnet.svg" width="30" height="30" alt="CoreUI Logo"> -->
    </a>
    <button class="navbar-toggler sidebar-toggler d-md-down-none" type="button" data-toggle="sidebar-lg-show">
      <span class="navbar-toggler-icon"></span>
    </button>
    <ul class="nav navbar-nav d-md-down-none">
      <li class="nav-item px-3">
        <a class="nav-link" href="#">使用者</a>
      </li>
    </ul>
    <ul class="nav navbar-nav ml-auto">
      <li class="nav-item mr-3">管理員</li>
      <!-- <li class="nav-item mr-3">登出</li> -->
      <a class="nav-item mr-3" href="login.html">登出</a>
    </ul>
  </header>
  <div class="app-body">
    <div class="sidebar">
      <!-- sidebar menu-->
      <nav class="sidebar-nav">
    <ul class="nav">
      <li class="nav-item">
        <a class="nav-link" href="index.html">
          <i class="nav-icon icon-speedometer"></i> 系統概況
          <span class="badge badge-primary">NEWs</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="charts.html">
          <i class="nav-icon icon-pie-chart"></i> 管理員管理</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="charts.html">
          <i class="nav-icon icon-pie-chart"></i> 帳號管理</a>
      </li>
      <li class="nav-item nav-dropdown">
        <a class="nav-link nav-dropdown-toggle" href="#">
          <i class="nav-icon icon-puzzle"></i>題庫管理</a>
        <ul class="nav-dropdown-items">
          <li class="nav-item">
            <a class="nav-link" href="base/breadcrumb.html">
              <i class="nav-icon icon-puzzle"></i> 遊戲題庫管理</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="base/cards.html">
              <i class="nav-icon icon-puzzle"></i> 影片題庫管理</a>
          </li>
        </ul>
      </li>
      <li class="nav-item nav-dropdown">
        <a class="nav-link nav-dropdown-toggle" href="#">
          <i class="nav-icon icon-cursor"></i> 角色管理</a>
        <ul class="nav-dropdown-items">
          <li class="nav-item">
            <a class="nav-link" href="roleSetManage.html">
              <i class="nav-icon icon-cursor"></i> 角色設定管理</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="template/roleEquipmentManage.html">
              <i class="nav-icon icon-cursor"></i>角色裝備管理</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="buttons/dropdowns.html">
              <i class="nav-icon icon-cursor"></i> Dropdowns</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="buttons/brand-buttons.html">
              <i class="nav-icon icon-cursor"></i> Brand Buttons</a>
          </li>
        </ul>
      </li>
      <li class="nav-item nav-dropdown">
        <a class="nav-link nav-dropdown-toggle" href="#">
          <i class="nav-icon icon-star"></i> 社群管理</a>
        <ul class="nav-dropdown-items">
          <li class="nav-item">
            <a class="nav-link" href="icons/coreui-icons.html">
              <i class="nav-icon icon-star"></i> 活動檢舉管理</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="icons/flags.html">
              <i class="nav-icon icon-star"></i> 留言檢舉管理</a>
          </li>
        </ul>
      </li>
      <li class="nav-item nav-dropdown">
        <a class="nav-link nav-dropdown-toggle" href="#">
          <i class="nav-icon icon-star"></i> 商店商品管理</a>
        <ul class="nav-dropdown-items">
          <li class="nav-item">
            <a class="nav-link" href="icons/coreui-icons.html">
              <i class="nav-icon icon-star"></i> CoreUI Icons
              <span class="badge badge-success">NEW</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="icons/flags.html">
              <i class="nav-icon icon-star"></i> Flags</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="icons/font-awesome.html">
              <i class="nav-icon icon-star"></i> Font Awesome
              <span class="badge badge-secondary">4.7</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="icons/simple-line-icons.html">
              <i class="nav-icon icon-star"></i> Simple Line Icons</a>
          </li>
        </ul>
      </li>
      <li class="nav-item nav-dropdown">
        <a class="nav-link nav-dropdown-toggle" href="#">
          <i class="nav-icon icon-bell"></i> 影片管理</a>
        <ul class="nav-dropdown-items">
          <li class="nav-item">
            <a class="nav-link" href="notifications/alerts.html">
              <i class="nav-icon icon-bell"></i> Alerts</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="notifications/badge.html">
              <i class="nav-icon icon-bell"></i> Badge</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="notifications/modals.html">
              <i class="nav-icon icon-bell"></i> Modals</a>
          </li>
        </ul>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="card.php">
          <i class="nav-icon icon-calculator"></i> 字卡管理
        </a>
      </li>
    </ul>
  </nav>
      <button class="sidebar-minimizer brand-minimizer" type="button"></button>
    </div>
    <main class="main">
      <!-- Breadcrumb-->
      <ol class="breadcrumb">
        <li class="breadcrumb-item">Home</li>
        <li class="breadcrumb-item">
          <a href="#">Admin</a>
        </li>
        <li class="breadcrumb-item active">Dashboard</li>
        <!-- Breadcrumb Menu-->
        <li class="breadcrumb-menu d-md-down-none">
          <div class="btn-group" role="group" aria-label="Button group">
            <a class="btn" href="#">
              <i class="icon-speech"></i>
            </a>
            <a class="btn" href="./">
              <i class="icon-graph"></i>  Dashboard</a>
            <a class="btn" href="#">
              <i class="icon-settings"></i>  Settings</a>
          </div>
        </li>
      </ol>
      <div class="container-fluid">
   
       <!-- 中間內容 -->
       <div class="row">
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">新增設定</div>
            <div class="card-body">
                <table class="table table-responsive-sm table-sm">
                    <tr>
                        <th>所屬等級</th>
                        <td>1</td>
                    </tr>
                    <tr>
                        <th>設定名稱</th>
                        <td>
                            <input class="form-control" type="text">
                        </td>
                    </tr>
                    <tr>
                        <th>設定本體來源</th>
                        <td>
                            <img src="">
                            <input type="file">
                        </td>
                    </tr>
                    <tr>
                        <th>設定不上色部分來源</th>
                        <td>
                            <img src="">
                            <input type="file">
                        </td> 
                    </tr>
                    <tr>
                        <th>設定左手來源</th>
                        <td>
                            <img src="">
                            <input type="file">
                        </td>
                    </tr>
                    <tr>
                        <th>設定右手來源</th>
                        <td>
                            <img src="">
                            <input type="file">
                        </td>
                    </tr>
                    <tr>
                        <th>設定上架狀態</th>
                        <td>
                            <label class="switch switch-3d switch-success">
                                <input class="switch-input" type="checkbox" checked="0">
                                <span class="switch-slider"></span>
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <th>設定簡介</th>
                        <td>
                            <textarea class="form-control" rows="3" value=""></textarea>
                        </td>
                    </tr>
                </table>
                <div class="row">
                    <div class="col-6 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0">
                        <button class="btn btn-pill btn-block btn-primary" type="button">確認新增</button>
                    </div>
                    <div class="col-6 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0">
                        <button class="btn btn-pill btn-block btn-secondary" type="button">取消清除</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/jquery-3.4.1.min.js"></script>
<script>
    $(document).ready(function(){
        $('.btn-danger').click(function(){
            alert('河河');
        });
    });
</script>
<script>
    function showSets(jsonStr){
        var sets = JSON.parse(jsonStr);
        for(var i=0; i<sets.length;i++){
            var row = document.getElementsByClassName('row')[0]
            var div = document.createElement("div");
            row.appendChild(div);
            div.setAttribute("class","col-lg-4");
            var htmlStr = "";
            htmlStr += `<div class="card">`;
            htmlStr += `<div class="card-header">${sets[i].set_no}</div>`;
            htmlStr += `<div class="card-body">`;
            htmlStr += `<table class="table table-responsive-sm table-sm">`;
            htmlStr += `<tr><th>所屬等級</th><td>${sets[i].level_no}</td></tr>`;
            htmlStr += `<tr><th>設定名稱</th><td><input class="form-control" type="text" value="${sets[i].set_name}"></td></tr>`;
            htmlStr += `<tr><th>設定本體來源</th><td><img src="${sets[i].set_body_src}"><input type="file"></td></tr>`;
            htmlStr += `<tr><th>設定不上色部分來源</th><td><img src="${sets[i].set_part_src}"><input type="file"></td></tr>`;
            htmlStr += `<tr><th>設定左手來源</th><td><img src="${sets[i].set_lefthand_src}"><input type="file"></td></tr>`;
            htmlStr += `<tr><th>設定右手來源</th><td><img src="${sets[i].set_righthand_src}"><input type="file"></td></tr>`;
            htmlStr += `<tr><th>設定上架狀態</th><td><label class="switch switch-3d switch-success"><input class="switch-input" type="checkbox" checked="${sets[i].set_status}"><span class="switch-slider"></span></label></td></tr>`;
            htmlStr += `<tr><th>設定簡介</th><td><textarea class="form-control" rows="3" value="${sets[i].set_intro}"></textarea></td></tr>`;
            htmlStr += `</table>`;
            htmlStr += `<div class="row"><div class="col-6 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0"><button class="btn btn-pill btn-block btn-success" type="button">確認修改</button></div>
            <div class="col-6 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0"><button class="btn btn-pill btn-block btn-danger" type="button">刪除</button></div></div>`;
            htmlStr += `</div>`;
            htmlStr += `</div>`;
            document.getElementsByClassName("col-lg-4")[i+1].innerHTML = htmlStr;
        }
    }
    function init(){
        var xhr = new XMLHttpRequest();
        xhr.onload=function(){
            if( xhr.status == 200 ){
                //modify here
                showSets(xhr.responseText);
            }else{
                alert( xhr.status );
            }
        }
        var url = "roleManage.php";
        xhr.open("Get", url, true);
        xhr.send( null );
    }
    window.addEventListener("load", init, false);
</script>

       <!-- end -->
      </div>
    </main>
    
  </div>
  <footer class="app-footer">
        <div>
          <a href="#">En-galaxy</a>
          <span>&copy; 2019 copyright</span>
        </div>
      </footer>
  <!-- CoreUI and necessary plugins-->
  <script src="node/jquery/dist/jquery.min.js"></script>
<script src="node/popper.js/dist/umd/popper.min.js"></script>
<script src="node/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="node/pace-progress/pace.min.js"></script>
<script src="node/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
<script src="node/@coreui/coreui/dist/js/coreui.min.js"></script>
</body>
</html>